"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const lucide_react_1 = require("lucide-react");
const framer_motion_1 = require("framer-motion");
const vscode = acquireVsCodeApi();
const GlassCard = ({ children, className = "" }) => ((0, jsx_runtime_1.jsx)("div", { className: `liquid-glass liquid-glass-glow rounded-2xl p-6 ${className}`, children: (0, jsx_runtime_1.jsx)("div", { className: "relative z-10", children: children }) }));
const App = () => {
    const [data, setData] = (0, react_1.useState)({ total: 0, online: 0, offline: 0, clients: [] });
    const [selectedClient, setSelectedClient] = (0, react_1.useState)(null);
    (0, react_1.useEffect)(() => {
        window.addEventListener('message', (event) => {
            const message = event.data;
            if (message.type === 'update') {
                setData(message.data);
            }
        });
    }, []);
    const queryAll = (command) => vscode.postMessage({ action: 'queryAll', command });
    const sendCommand = (clientKey, command, payload) => vscode.postMessage({ action: 'sendCommand', clientKey, command, payload });
    const generateReport = () => vscode.postMessage({ action: 'generateReport' });
    return ((0, jsx_runtime_1.jsxs)("div", { className: "min-h-screen p-8 text-white", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center mb-10", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-4xl font-extrabold tracking-tight mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-emerald-400", children: "Monitor Command Center" }), (0, jsx_runtime_1.jsx)("p", { className: "text-slate-400", children: "Real-time system orchestration & visibility" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-4", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: () => queryAll('getSystemInfo'), className: "flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 transition-all duration-300", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RefreshCcw, { size: 18 }), " Refresh All"] }), (0, jsx_runtime_1.jsxs)("button", { onClick: generateReport, className: "flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/30 transition-all duration-300", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FileJson, { size: 18 }), " Export Report"] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-6 mb-10", children: [(0, jsx_runtime_1.jsx)(GlassCard, { children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-3 bg-blue-500/20 rounded-xl", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Monitor, {}) }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-sm text-slate-400", children: "Total Assets" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-3xl font-bold", children: data.total })] })] }) }), (0, jsx_runtime_1.jsx)(GlassCard, { children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-3 bg-emerald-500/20 rounded-xl", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Activity, {}) }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-sm text-slate-400", children: "Active Now" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-3xl font-bold text-emerald-400", children: data.online })] })] }) }), (0, jsx_runtime_1.jsx)(GlassCard, { children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [(0, jsx_runtime_1.jsx)("div", { className: "p-3 bg-rose-500/20 rounded-xl", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Power, {}) }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-sm text-slate-400", children: "Offline" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-3xl font-bold text-rose-400", children: data.offline })] })] }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "lg:col-span-2 space-y-4", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-xl font-semibold mb-4 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Globe, { className: "text-blue-400" }), " Managed Clients"] }), (0, jsx_runtime_1.jsx)(framer_motion_1.AnimatePresence, { children: data.clients.length > 0 ? (data.clients.map((client) => ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, exit: { opacity: 0, scale: 0.95 }, onClick: () => setSelectedClient(client.key), className: `cursor-pointer transition-all duration-300 ${selectedClient === client.key ? 'scale-[1.02]' : 'hover:scale-[1.01]'}`, children: (0, jsx_runtime_1.jsx)(GlassCard, { className: selectedClient === client.key ? 'ring-2 ring-blue-500/50 bg-blue-500/5' : '', children: (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex gap-4", children: [(0, jsx_runtime_1.jsx)("div", { className: `w-12 h-12 rounded-xl flex items-center justify-center ${client.status === 'online' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-slate-500/20 text-slate-400'}`, children: (0, jsx_runtime_1.jsx)(lucide_react_1.User, { size: 24 }) }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("h3", { className: "font-bold text-lg text-blue-300", children: [client.username, " ", (0, jsx_runtime_1.jsx)("span", { className: "text-slate-500 font-normal", children: "@" }), " ", client.hostname] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-3 text-sm text-slate-400", children: [(0, jsx_runtime_1.jsxs)("span", { className: "flex items-center gap-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.HardDrive, { size: 14 }), " ", client.status === 'online' ? 'Active connection' : 'Offline'] }), (0, jsx_runtime_1.jsxs)("span", { className: "flex items-center gap-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ShieldCheck, { size: 14 }), " ", client.bbrainyActive ? 'BBrainy Active' : 'BBrainy Inactive'] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-right", children: [(0, jsx_runtime_1.jsxs)("div", { className: `text-sm font-medium mb-1 ${client.status === 'online' ? 'text-emerald-400' : 'text-rose-400'}`, children: ["\u25CF ", client.status.toUpperCase()] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-xs text-slate-500", children: ["Last seen: ", new Date(client.lastSeen).toLocaleTimeString()] })] })] }) }) }, client.key)))) : ((0, jsx_runtime_1.jsx)(GlassCard, { children: (0, jsx_runtime_1.jsx)("div", { className: "text-center py-10 text-slate-500", children: "No managed clients detected. Waiting for connection..." }) })) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-xl font-semibold mb-4 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ShieldCheck, { className: "text-emerald-400" }), " Command & Control"] }), (0, jsx_runtime_1.jsxs)(GlassCard, { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-bold uppercase tracking-wider text-slate-500 mb-4", children: "Selected Node Actions" }), selectedClient ? ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsx)("button", { onClick: () => sendCommand(selectedClient, 'getSystemInfo'), className: "w-full flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5", children: (0, jsx_runtime_1.jsxs)("span", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RefreshCcw, { size: 18 }), " Update Info"] }) }), (0, jsx_runtime_1.jsx)("button", { onClick: () => sendCommand(selectedClient, 'forceBBrainy'), className: "w-full flex items-center justify-between p-3 rounded-xl bg-emerald-500/10 hover:bg-emerald-500/20 transition-colors border border-emerald-500/20 text-emerald-400", children: (0, jsx_runtime_1.jsxs)("span", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Power, { size: 18 }), " Activate BBrainy"] }) }), (0, jsx_runtime_1.jsx)("button", { onClick: () => sendCommand(selectedClient, 'getWorkspace'), className: "w-full flex items-center justify-between p-3 rounded-xl bg-blue-500/10 hover:bg-blue-500/20 transition-colors border border-blue-500/20 text-blue-400", children: (0, jsx_runtime_1.jsxs)("span", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.FolderOpen, { size: 18 }), " Inspect Workspace"] }) }), (0, jsx_runtime_1.jsx)("button", { onClick: () => sendCommand(selectedClient, 'setAlarm', { intervalMs: 3600000 }), className: "w-full flex items-center justify-between p-3 rounded-xl bg-orange-500/10 hover:bg-orange-500/20 transition-colors border border-orange-500/20 text-orange-400", children: (0, jsx_runtime_1.jsxs)("span", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Bell, { size: 18 }), " Set Health Alert"] }) })] })) : ((0, jsx_runtime_1.jsx)("div", { className: "text-sm text-slate-500 py-4 italic", children: "Select a client from the list to view specific controls" }))] }), (0, jsx_runtime_1.jsxs)(GlassCard, { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-bold uppercase tracking-wider text-slate-500 mb-4", children: "Bulk Operations" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsx)("button", { onClick: () => queryAll('checkBBrainy'), className: "w-full flex items-center justify-center gap-2 p-3 rounded-xl border border-white/10 hover:bg-white/5 transition-all", children: "Scan Global BBrainy Status" }), (0, jsx_runtime_1.jsx)("button", { onClick: () => queryAll('getSystemInfo'), className: "w-full flex items-center justify-center gap-2 p-3 rounded-xl border border-white/10 hover:bg-white/5 transition-all", children: "Force Fleet Refresh" })] })] })] })] })] }));
};
exports.default = App;
//# sourceMappingURL=App.js.map